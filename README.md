# c2_practice
module c2 practice<br>
--------------------------------------------ОБЩЕЕ ОПИСАНИЕ<br>
В этом ДЗ полностью реализован сервер голосования:<br>
- бекенд (python3 bottle), по умолчанию запускается в многопоточном режиме 4 процесса по 6 потоков<br>
  согласно ДЗ бекенд:<br>
  - обрабатывает GET запросы по адресу: /    - отображает основное окно голосования,<br>
  которое разделено на 2 вертикальные части для демонстрации отправки POST запросов button и radio<br>
  - обрабатывает GET запросы по адресу: /results/   - отображает страницу с результатами голосования,<br>
  в которой используется технология SSE для отображения текущих результатов голосования с постоянным обновлением результата<br>
  - обрабатывает POST запросы по адресу: /results/  -  принимает данные формы для добавления данных, согласно выбранных radio
  кнопок<br>
  - обрабатывает POST запросы по адресу: /sse/vote/param   - где param может принимать значения cats, dogs, parrots и увеличивает значение value в БД для соответствующей записи фракции<br>
  - поддерживает SSE по адресу: /sse/vote/stats    - передает браузеру текущие данные о результатах госований используя технологию SSE<br>
  - также добавлены static-files для подключения css, js, img в результирующие странички<br>
- фронт-енд (html, css+bootstrap, js) реализован через шаблоны SimpleTemplate bottle, шаблоны - в папке views, реализованы два
шаблона: один для главной страницы - для ввода данных, второй для отображения результатов с использованием SSE<br>
--------------------------------------------СОСТАВ РЕПОЗИТОРИЯ<br>
-----/<br>
.....|- main.py - основной модуль для запуска сервера<br>
.....|- sse_server.conf - файл конфигурации сервера, где можно задать ip, port, тип http-сервера, опции многозадачности и имя БД<br>
.....|- my_db.sqlite - файл с БД<br>
.....|- README.md<br>
.....|----- /app<br>
.....|      |- db.py - модуль для функционала работы с БД, чтение/обновление<br>
.....|      |- server.py - модуль для функционала работы сервера, обработка и маршрутизация запросов<br>
.....|<br>
.....|------/views<br>
.....|      |- votingMainPage.tpl - шаблон основной страницы, кнопки, radio и проч (внутри html и js, bootstrap)<br>
.....|      |- votingMainResults.tpl - шаблон страницы с результатами, прогрессбары и SSE (внутри html и js, bootstrap)<br>
.....|------/assets статический файлы(картинки, стили, js)<br>
............|- -/css <br>
................|- vote.css     - стили главной странички<br>
................|- results.css  - стили результатов (практически пустой)<br>
............|--/src<br>
................|- vote.js.      - скрипты на главной<br>
................|- results.js    - скрипты на странице результатов<br>
............|--/images<br>
<br>
--------------------------------------------СИСТЕМНЫЕ ТРЕБОВАНИЯ<br>
Для запуска сервера необходимо установить и запустить следующее ПО:<br>
- python3.7+<br>
- bootle 0.12.18<br>
- guniconr 20.0.4<br>
---------------------------------------------ЗАПУСК<br>
- скачать архив<br>
- распаковать<br>
- убедиться, что sqlite3 точно прописан в path (для Windows)<br>
- запустить командную строку (cmd - в ОС Windows, для другой ОС - любой людский shell)<br>
- в командной строке выполнить<br>
python3 main.py<br>
- убедиться, что все запустилось, на экране будет отображено, нечто похожее на:<br>
[INFO] Listening at: http://127.0.0.1:8080 (33885)<br>
- открыть любой браузер (кроме IE ниже 8.0!)<br>
- ввести в адресную строку адрес сервера опросника, по умолчанию, http://127.0.0.1:8080,<br>
(при изменении конфигурации не забываем изменить и адрес!)<br>
